language: c

# Sudo required for checkinstall - install xlsx headers and lib
sudo: required

notifications:
  email: false

branches:
  only:
    - master

env:
  - OS_PACKAGES="build-essential zlib1g-dev gcc checkinstall"

compiler:
  - gcc

python:
  - 3.5

install:
  - sudo pip install -r dev_requirements.txt
  - sudo apt-get install -y $OS_PACKAGES
  - cd libxlsxwriter
  - make
  - sudo checkinstall -y make install
  - cd ..
  - python setup.py build_ext bdist_wheel

script:
  - echo "No tests for now, only build phase"
